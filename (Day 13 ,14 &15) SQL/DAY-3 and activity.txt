DAY-3 and activity

Normalization ; when we have a large dataset in a single table which is not feasible to read the proper data
Because multiple columns may or may not belong to each other so Normalization is core database design

It is  a process of decomposing large tables into small tables and columns are also related to each other.


If data is not normalized :
	1- Data redundancy
	2- Update anomalies
	3- Insert anomalies
	4- Delete anomalies 
	So normalization is to organize data to reduce duplication and maintain integrity 
	
	
	A  company stores customer orders details in One table
	
	Orderdata
	
	Orderid 	Customer_name	Customer_phone	Product_names 	Product_prices 	Order_date  
						
	
	
	Problems are :
	Multiple values in one column
	Hard to query individual products
	Data consistency risk
	
	That's why Normalized data can be done by following the rules of 1NF , 2NF ,3 NF â€¦..
	
	1NF say's
	
	Each column has single value ( atomic values)
	No repeating group
	Each row uniquely identifiable
	
	Below is not in 1NF
	
	Orderid 	Customer_name	Customer_phone	Product_names 	Product_prices 	Order_date  
	101	Amit	945453443	Laptop, mouse	70000,500	2026-01-29
						
	102	Rahul	887798798	Keyboard	1200	2026-01-12
	
	After 1NF
	
	Orderid 	Customer_name	Customer_phone	Product_name	Product_prices 	Order_date  
	101	Amit	945453443	Laptop	70000	2026-01-15
	101	Amit	945453443	mouse	500	2026-01-15
	102	Rahul	887798798	Keyboard	1200	2026-01-12
	
	2NF says
	
	It should be in 1 NF first
	No partial dependency 
	(Composite key ) combination of two keys to make a primary key  (name+phone)
	
	Composite key let say  is (order_id , product_name)
	Customer_name depends only on order_id
	Customer_phone depends only on order_id
	Product_price depends only on product_name
	Order_date depends only on order_id
	
	Violation of 2 NF
	
	Orders
	
	Order_id	Customer_name	Customer_phone no 	Order_date
	101	Amit	687987987	2026-01-15
	102	Rahul	343434534	2026-01-12
	
	
	Order_items
	
	Order_id	Product_name	Product_price
	101	Laptop	70000
	101	Mouse	500
	102	Keyboard	1200
	
	3NF says
	
	It should be in 2nf
	No transitive dependency
	 
	â€¢ Definition: If 
	ð´â†’ðµ,ðµâ†’ð¶
, then ð´â†’ð¶
 which is a transitive dependency. This usually happens in tables with three or more attributes.
	â€¢ Example:
In a Studenttable, Student_ID(Key) â†’Batch_IDâ†’Batch_Name. The Batch_Namedepends on Batch_ID
, which depends on Student_ID

	â€¢ Normalization: To achieve Third Normal Form (3NF), transitive dependencies must be removed to eliminate insertion, update, and deletion anomalies.

To remove transitive dependency

	Customer table
	
	Customer_id	Customer_name	Customer_phone no 
	C1	Amit	687987987
	C2	Rahul	343434534

	
	Orders
	
	Order_id	Customer_id	Order_date
	101	C1	2026-01-15
	102	C2	2026-01-12
	
	Product table
	
	product_id	Product_name	Product_price
	P1	Laptop	70000
	P2	Mouse	500
	P3	Keyboard	1200
	
	
	
	Order_items
	
	Order_id	Product_id
	101	P1
	101	P2
	102	P3

  
  BCNF -- Sometimee 3NF is also not enough then we have to go for BCNF also 

A table is in BCNF if 
 
Every functional dependency  A->B
Where A must be the super key and generally BCNF eliminates functional dependency anomalies

In a college data

Student_id 	Course	Trainer
S1	Java	Niti
S2 	Java 	Niti
S3	React	Jiya
S4 	Reat	Jiya


Student_id , course is taught by trainer
Course -> trainer

Course	Trainer
Java	Niti
React	Jiya
Student_id 	Course
S1	Java
S2 	Java 
S3	React
S4 	React





mysql> create database Hospital;
Query OK, 1 row affected (0.12 sec)

mysql> Use Hospital;
Database changed

mysql>  Create table Patient(Patient_ID INT PRIMARY KEY, Patient_name VARCHAR(100),  Patient_phone VARCHAR(15));
Query OK, 0 rows affected (0.08 sec)

mysql> CREATE TABLE Doctor (Doctor_ID INT PRIMARY KEY, Doctor_specialization VARCHAR(100), Room_No VARCHAR(10));
Query OK, 0 rows affected (0.02 sec)

mysql> CREATE TABLE Appointment ( Appointment_ID INT PRIMARY KEY,Patient_ID INT,Doctor_ID INT, Appointment_date DATE,FOREIGN KEY (Patient_ID) REFERENCES Patient(Patient_ID),FOREIGN KEY (Doctor_ID) REFERENCES Doctor(Doctor_ID) );
Query OK, 0 rows affected (0.04 sec)

mysql> INSERT INTO Patient VALUES  (1, 'Ravi Kumar', '9876543210'),(2, 'Anita Sharma', '9123456789');
Query OK, 2 rows affected (0.03 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> INSERT INTO Doctor VALUES (101, 'Cardiologist', 'R101'),(102, 'Dermatologist', 'R202');
Query OK, 2 rows affected (0.01 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> INSERT INTO Appointment VALUES (1001, 1, 101, '2026-01-30'),(1002, 2, 102, '2026-02-01');
Query OK, 2 rows affected (0.01 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> INSERT INTO Patient VALUES (3, 'Suresh Verma', '9988776655'),(4, 'Pooja Singh', '9012345678');
Query OK, 2 rows affected (0.01 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> INSERT INTO Doctor VALUES (103, 'Neurologist', 'R303'),(104, 'Orthopedic', 'R404');
Query OK, 2 rows affected (0.01 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> INSERT INTO Appointment VALUES (1003, 3, 103, '2026-02-05'),(1004, 4, 104, '2026-02-08');
Query OK, 2 rows affected (0.01 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> SELECT * from Patient;
+------------+--------------+---------------+
| Patient_ID | Patient_name | Patient_phone |
+------------+--------------+---------------+
|          1 | Ravi Kumar   | 9876543210    |
|          2 | Anita Sharma | 9123456789    |
|          3 | Suresh Verma | 9988776655    |
|          4 | Pooja Singh  | 9012345678    |
+------------+--------------+---------------+
4 rows in set (0.00 sec)

mysql> select * from doctor;
+-----------+-----------------------+---------+
| Doctor_ID | Doctor_specialization | Room_No |
+-----------+-----------------------+---------+
|       101 | Cardiologist          | R101    |
|       102 | Dermatologist         | R202    |
|       103 | Neurologist           | R303    |
|       104 | Orthopedic            | R404    |
+-----------+-----------------------+---------+
4 rows in set (0.00 sec)

mysql> select * from appointment;
+----------------+------------+-----------+------------------+
| Appointment_ID | Patient_ID | Doctor_ID | Appointment_date |
+----------------+------------+-----------+------------------+
|           1001 |          1 |       101 | 2026-01-30       |
|           1002 |          2 |       102 | 2026-02-01       |
|           1003 |          3 |       103 | 2026-02-05       |
|           1004 |          4 |       104 | 2026-02-08       |
+----------------+------------+-----------+------------------+
4 rows in set (0.00 sec)

mysql> select p.patient_name, p.patient_phone,d.doctor_specialization,d.Room_No,a.Appointment_date FROM Appointment a JOIN Patient p ON a.Patient_ID = p.Patient_ID JOIN Doctor d ON a.Doctor_ID = d.Doctor_ID;
+--------------+---------------+-----------------------+---------+------------------+
| patient_name | patient_phone | doctor_specialization | Room_No | Appointment_date |
+--------------+---------------+-----------------------+---------+------------------+
| Ravi Kumar   | 9876543210    | Cardiologist          | R101    | 2026-01-30       |
| Anita Sharma | 9123456789    | Dermatologist         | R202    | 2026-02-01       |
| Suresh Verma | 9988776655    | Neurologist           | R303    | 2026-02-05       |
| Pooja Singh  | 9012345678    | Orthopedic            | R404    | 2026-02-08       |
+--------------+---------------+-----------------------+---------+------------------+
4 rows in set (0.01 sec)



